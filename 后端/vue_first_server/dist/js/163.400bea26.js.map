{"version":3,"file":"js/163.400bea26.js","mappings":"+JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,QAAQC,MAAO,wBAA0BL,EAAIM,WAAa,MAAO,CAACJ,EAAG,UAAU,CAACK,IAAI,YAAYH,YAAY,aAAaI,MAAM,CAAC,MAAQR,EAAIS,UAAU,MAAQT,EAAIU,WAAW,iBAAiB,OAAO,cAAc,QAAQ,CAACR,EAAG,KAAK,CAACE,YAAY,SAAS,CAACJ,EAAIW,GAAG,gBAAgBT,EAAG,eAAe,CAACM,MAAM,CAAC,KAAO,aAAa,CAACN,EAAG,WAAW,CAACM,MAAM,CAAC,KAAO,OAAO,gBAAgB,MAAM,YAAc,KAAK,cAAc,sBAAsBI,MAAM,CAACC,MAAOb,EAAIS,UAAUK,SAAUC,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIS,UAAW,WAAYO,EAAI,EAAEE,WAAW,yBAAyB,GAAGhB,EAAG,eAAe,CAACM,MAAM,CAAC,KAAO,aAAa,CAACN,EAAG,WAAW,CAACM,MAAM,CAAC,KAAO,WAAW,gBAAgB,MAAM,YAAc,KAAK,cAAc,0BAA0BW,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQtB,EAAIuB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAgB,KAAYzB,EAAI0B,YAAYC,MAAM,KAAMC,UAAU,GAAGhB,MAAM,CAACC,MAAOb,EAAIS,UAAUoB,SAAUd,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIS,UAAW,WAAYO,EAAI,EAAEE,WAAW,yBAAyB,GAAGhB,EAAG,eAAe,CAAC4B,YAAY,CAAC,MAAQ,SAAS,CAAC5B,EAAG,YAAY,CAAC4B,YAAY,CAAC,MAAQ,QAAQtB,MAAM,CAAC,KAAO,SAAS,KAAO,WAAWW,SAAS,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOW,iBAAwB/B,EAAI0B,YAAYC,MAAM,KAAMC,UAAU,IAAI,CAAC1B,EAAG,OAAO,CAACF,EAAIW,GAAG,YAAY,IAAI,IAAI,EACl6C,EACIqB,EAAkB,G,2DCwDtB,GACAC,KAAA,QACAC,OAEA,OACA5B,WAAAA,EAEAG,UAAA,CACAK,SAAA,QACAe,SAAA,UAIAnB,WAAA,CACAI,SAAA,CACA,CAAAqB,UAAA,EAAAC,QAAA,OAAAC,QAAA,YAEAR,SAAA,EAAAM,UAAA,EAAAC,QAAA,OAAAC,QAAA,YAGA,EACAC,UACAC,SAAAC,MAAA,MACA,EACAC,MAAA,CACAC,OAAA,CACAC,QAAA,SAAAC,GACA,MAAAV,EAAAU,EAAAC,MACAX,GAAAA,EAAAY,WACA,KAAAA,SAAAZ,EAAAY,gBACAZ,EAAAY,SACA,OAAAC,KAAAC,UAAAd,KACA,KAAAY,SACA,KAAAA,SAAA,IAAAG,GAAAD,UAAAd,EAAA,CAAAgB,SAAA,KAGA,EACAC,WAAA,IAGAC,QAAA,CACA1B,cAGA,KAAA2B,MAAA5C,UAAA6C,UAAA,UAEA,IAAAC,EAgBA,OADAC,QAAAC,IAAA,mBACA,EAhBA,CAIA,MAAAvB,KAAAwB,SAAA,KAAAC,MAAAC,KAAA,aAAAnD,WAEA,GADA+C,QAAAC,IAAAC,GACA,MAAAA,EAAAG,KAAAC,OAAA,YAAAC,SAAAC,MAAA,QACA,KAAAD,SAAAE,QAAA,QAIAC,OAAAC,eAAAC,QAAA,QAAAV,EAAAxB,KAAAmC,OAEA,KAAAC,QAAAC,KAAA,QACA,CAGA,GAEA,IC3HqP,I,UCQjPC,GAAY,OACd,EACAzE,EACAiC,GACA,EACA,KACA,KACA,MAIF,EAAewC,EAAiB,O","sources":["webpack://vue_login/./src/components/Login.vue","webpack://vue_login/src/components/Login.vue","webpack://vue_login/./src/components/Login.vue?0800","webpack://vue_login/./src/components/Login.vue?f3db"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login\",style:('background-image:url(' + _vm.Background + ');')},[_c('el-form',{ref:\"loginForm\",staticClass:\"login-form\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules,\"label-position\":\"left\",\"label-width\":\"0px\"}},[_c('h3',{staticClass:\"title\"},[_vm._v(\"高校选课成绩管理系统\")]),_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"auto-complete\":\"off\",\"placeholder\":\"账号\",\"prefix-icon\":\"iconfont icon-user\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\",\"placeholder\":\"密码\",\"prefix-icon\":\"iconfont icon-3702mima\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleLogin.apply(null, arguments)}},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',{staticStyle:{\"width\":\"100%\"}},[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"medium\",\"type\":\"primary\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleLogin.apply(null, arguments)}}},[_c('span',[_vm._v(\"登 录\")])])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 通过类名，用css定义各种样式 -->\r\n  <div class=\"login\" :style=\"'background-image:url(' + Background + ');'\">\r\n    <!-- el-form element的组件 表单 -->\r\n    <!-- model表示数据绑定，填写的数据都会自动同步到model对象上\r\n        rules表示验证规则， prop指定具体的对应的规则\r\n    -->\r\n    <el-form\r\n      ref=\"loginForm\"\r\n      :model=\"loginForm\"\r\n      :rules=\"loginRules\"\r\n      label-position=\"left\"\r\n      label-width=\"0px\"\r\n      class=\"login-form\"\r\n    >\r\n      <h3 class=\"title\">高校选课成绩管理系统</h3>\r\n      <el-form-item prop=\"username\">\r\n        <!-- 组件的文本的输入框 -->\r\n        <!-- v-model会绑定到model的某个具体属性中 -->\r\n        <el-input\r\n          v-model=\"loginForm.username\"\r\n          type=\"text\"\r\n          auto-complete=\"off\"\r\n          placeholder=\"账号\"\r\n          prefix-icon=\"iconfont icon-user\"\r\n        >\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item prop=\"password\">\r\n        <!-- type password 表示密码形式，会帮你变成隐藏形式 -->\r\n        <el-input\r\n          v-model=\"loginForm.password\"\r\n          type=\"password\"\r\n          auto-complete=\"off\"\r\n          placeholder=\"密码\"\r\n          prefix-icon=\"iconfont icon-3702mima\"\r\n          @keyup.enter.native=\"handleLogin\"\r\n        >\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item style=\"width: 100%\">\r\n        <el-button\r\n          size=\"medium\"\r\n          type=\"primary\"\r\n          style=\"width: 100%\"\r\n          @click.native.prevent=\"handleLogin\"\r\n        >\r\n          <span>登 录</span>\r\n        </el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Background from '@/assets/images/background_arknights01.jpg'\r\n\r\n// 下面是具体的行为区\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n    // 返回数据对象\r\n    return {\r\n      Background: Background,\r\n      // 数据绑定返回的的表单对象\r\n      loginForm: {\r\n        username: 'admin',\r\n        password: '123456'\r\n      },\r\n      // 具体的验证规则的定义\r\n      // blur鼠标离开触发验证\r\n      loginRules: {\r\n        username: [\r\n          { required: true, trigger: 'blur', message: '用户名不能为空' }\r\n        ],\r\n        password: [{ required: true, trigger: 'blur', message: '密码不能为空' }]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    document.title = '登录页面'\r\n  },\r\n  watch: {\r\n    $route: {\r\n      handler: function (route) {\r\n        const data = route.query\r\n        if (data && data.redirect) {\r\n          this.redirect = data.redirect\r\n          delete data.redirect\r\n          if (JSON.stringify(data) !== '{}') {\r\n            this.redirect =\r\n              this.redirect + '&' + qs.stringify(data, { indices: false })\r\n          }\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    handleLogin() {\r\n      // 数据预验证\r\n      // ref 表单引用对象  vaild验证结果，是一个布尔值\r\n      this.$refs.loginForm.validate(async (valid) => {\r\n        // 验证通过，发起请求\r\n        if (valid) {\r\n          // console.log('验证通过')\r\n          // this.$http.post('login', this.loginForm): 返回值为promise\r\n          // 返回值为promise，可加await简化操作 相应的也要加async\r\n          const { data: res } = await this.$http.post('login', this.loginForm)\r\n          console.log(res)\r\n          if (res.meta.status !== 200) return this.$message.error('登录失败')\r\n          this.$message.success('登录成功')\r\n          // 1、将登陆成功之后的token, 保存到客户端的sessionStorage中; localStorage中是持久化的保存\r\n          //   1.1 项目中出现了登录之外的其他API接口，必须在登陆之后才能访问\r\n          //   1.2 token 只应在当前网站打开期间生效，所以将token保存在sessionStorage中\r\n          window.sessionStorage.setItem('token', res.data.token)\r\n          // 2、通过编程式导航跳转到后台主页, 路由地址为：/home\r\n          this.$router.push('/home')\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\">\r\n// .是类选择器\r\n.login {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n  background-size: cover;\r\n}\r\n.title {\r\n  margin: 0 auto 30px auto;\r\n  text-align: center;\r\n  color: #707070;\r\n}\r\n\r\n.login-form {\r\n  border-radius: 6px;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  width: 385px;\r\n  padding: 25px 25px 5px 25px;\r\n  .el-input {\r\n    height: 38px;\r\n    input {\r\n      height: 38px;\r\n    }\r\n  }\r\n  .input-icon {\r\n    height: 39px;\r\n    width: 14px;\r\n    margin-left: 2px;\r\n  }\r\n}\r\n.login-tip {\r\n  font-size: 13px;\r\n  text-align: center;\r\n  color: #bfbfbf;\r\n}\r\n.login-code {\r\n  width: 33%;\r\n  display: inline-block;\r\n  height: 38px;\r\n  float: right;\r\n  img {\r\n    cursor: pointer;\r\n    vertical-align: middle;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=568827a2&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=568827a2&prod&rel=stylesheet%2Fscss&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","style","Background","ref","attrs","loginForm","loginRules","_v","model","value","username","callback","$$v","$set","expression","nativeOn","$event","type","indexOf","_k","keyCode","key","handleLogin","apply","arguments","password","staticStyle","preventDefault","staticRenderFns","name","data","required","trigger","message","created","document","title","watch","$route","handler","route","query","redirect","JSON","stringify","qs","indices","immediate","methods","$refs","validate","valid","console","log","res","$http","post","meta","status","$message","error","success","window","sessionStorage","setItem","token","$router","push","component"],"sourceRoot":""}
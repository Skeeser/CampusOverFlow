"use strict";(self["webpackChunkvue_login"]=self["webpackChunkvue_login"]||[]).push([[163],{34703:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login",style:"background-image:url("+e.Background+");"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"label-position":"left","label-width":"0px"}},[t("h3",{staticClass:"title"},[e._v("高校选课成绩管理系统")]),t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号","prefix-icon":"iconfont icon-user"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码","prefix-icon":"iconfont icon-3702mima"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",{staticStyle:{width:"100%"}},[t("el-button",{staticStyle:{width:"100%"},attrs:{size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[t("span",[e._v("登 录")])])],1)],1)],1)},n=[],o=(r(57658),r.p+"img/background_arknights01.e7c2f6b9.jpg"),s={name:"Login",data(){return{Background:o,loginForm:{username:"admin",password:"123456"},loginRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}]}}},created(){document.title="登录页面"},watch:{$route:{handler:function(e){const t=e.query;t&&t.redirect&&(this.redirect=t.redirect,delete t.redirect,"{}"!==JSON.stringify(t)&&(this.redirect=this.redirect+"&"+qs.stringify(t,{indices:!1})))},immediate:!0}},methods:{handleLogin(){this.$refs.loginForm.validate((async e=>{if(!e)return console.log("error submit!!"),!1;{const{data:e}=await this.$http.post("login",this.loginForm);if(console.log(e),200!==e.meta.status)return this.$message.error("登录失败");this.$message.success("登录成功"),window.sessionStorage.setItem("token",e.data.token),this.$router.push("/home")}}))}}},l=s,a=r(1001),u=(0,a.Z)(l,i,n,!1,null,null,null),c=u.exports}}]);
//# sourceMappingURL=163.400bea26.js.map